name: macos-latest
run-name: ${{ github.workflow }} âœ… ${{ github.actor }} âœ… ${{ github.event_name}}
on:
  workflow_dispatch:


jobs:
  bash:
    name: Shell bash
    continue-on-error: false
    strategy:
      max-parallel: 3
      matrix:
       os: [macos-latest]

    runs-on: ${{ matrix.os }}
    steps:
      - uses: actions/checkout@v4
      - id: foo
        uses: milankomaj/shell-x@v0.3
        with:
          shell: 'bash'
          locale: 'sk_SK.utf8'
          timezone: 'Europe/Bratislava'
          comand: date
      - run: echo ðŸ’¡ ${{ steps.foo.outputs.inputs-outputs }}
        shell: bash
      - run: |
         sudo localedef -f sk_SK.utf8 sk_SK.utf8/LC_MESSAGES/sk_SK.msg
         sudo install -m 0644 sk_SK.utf8 /usr/share/locale/sk_SK.utf8
         sudo localedef -i /usr/share/locale/sk_SK /usr/lib/locale/sk_SK.UTF-8
         export LANG=sk_SK.UTF-8
         export LC_ALL="sk_SK.UTF-8" 
         echo 'export LANG=sk_SK.UTF-8' >> ~/.bashrc
         echo 'export LC_ALL=sk_SK.UTF-8' >> ~/.bashrc
         echo 'export LANG=sk_SK.UTF-8' >> ~/.bash_profile
         echo 'export LC_ALL=sk_SK.UTF-8' >> ~/.bash_profile
         source ~/.bash_profile
         source ~/.bashrc 
         locale
         LANG=sk_SK.UTF-8 date
         LC_TIME=sk_SK.UTF-8 date -R
         date
         softwareupdate -l
         echo $LANG
        shell: bash
      - run: |
         softwareupdate -l
         locale
         date
        shell: bash
     
  sh:
    name: Shell sh
    continue-on-error: false
    strategy:
      max-parallel: 3
      matrix:
       os: [macos-latest]

    runs-on: ${{ matrix.os }}
    steps:
      - uses: actions/checkout@v4
      - id: foo
        uses: milankomaj/shell-x@v0.3
        with:
          shell: 'sh'
          locale: 'sk_SK.utf8'
          timezone: 'Europe/Bratislava'


      - run: echo ðŸ’¡ ${{ steps.foo.outputs.inputs-outputs }}
        shell: sh
      - run: date
        shell: sh

  pwsh:
    name: Shell pwsh
    continue-on-error: false
    strategy:
      max-parallel: 3
      matrix:
       os: [macos-latest]

    runs-on: ${{ matrix.os }}
    steps:
      - uses: actions/checkout@v4
      - id: foo
        uses: milankomaj/shell-x@v0.3
        with:
          shell: 'pwsh'
          locale: 'sk_SK.utf8'
          timezone: 'Europe/Bratislava'

      - run: echo ðŸ’¡ ${{ steps.foo.outputs.random-number }}
        shell: pwsh
      - run: echo ðŸ’¡ ${{ steps.foo.outputs.inputs-outputs }}
        shell: pwsh
      - run: date
        shell: pwsh
